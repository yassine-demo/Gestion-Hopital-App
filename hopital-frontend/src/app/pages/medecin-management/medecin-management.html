<!-- Background Elements -->
<div class="floating-elements">
  <div class="floating-element">üè•</div>
  <div class="floating-element">üë®‚Äç‚öïÔ∏è</div>
  <div class="floating-element">‚ù§Ô∏è</div>
  <div class="floating-element">ü©∫</div>
</div>

<div class="management-container">
  <!-- Header Section -->
  <div class="header-section">
    <div class="header-title">
      <h2>üë®‚Äç‚öïÔ∏è Gestion des M√©decins</h2>
      <span style="color: var(--text-light); font-size: 1rem; margin-top: 5px;">
        G√©rez les m√©decins autoris√©s dans le syst√®me
      </span>
    </div>
    <button class="add-doctor-btn" (click)="openAddModal()">
      <i class="fas fa-user-plus"></i>
      <span>Autoriser un nouveau m√©decin</span>
    </button>
  </div>

  <!-- Stats Cards -->
  <div class="stats-container">
    <div class="stat-card">
      <div class="stat-value">{{ medecins.length }}</div>
      <div class="stat-label">M√©decins Autoris√©s</div>
    </div>
    <div class="stat-card">
      <div class="stat-value">
        {{ getUniqueSpecialties().length }}
      </div>
      <div class="stat-label">Sp√©cialit√©s</div>
    </div>
    <div class="stat-card">
      <div class="stat-value">
        {{ getActiveDoctorsCount() }}
      </div>
      <div class="stat-label">M√©decins Actifs</div>
    </div>
    <div class="stat-card">
      <div class="stat-value">
        {{ getTotalPatientsCapacity() }}
      </div>
      <div class="stat-label">Capacit√© Totale</div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="loading-spinner"></div>
    <p class="loading-text">Chargement des m√©decins...</p>
    <p style="color: var(--text-light); margin-top: 10px; font-size: 0.9rem;">
      Nous r√©cup√©rons la liste des m√©decins autoris√©s
    </p>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && medecins.length === 0" class="empty-state">
    <i>üë®‚Äç‚öïÔ∏è</i>
    <h3>Aucun m√©decin autoris√©</h3>
    <p>Aucun m√©decin n'est actuellement autoris√© dans le syst√®me.</p>
    <button class="add-doctor-btn" (click)="openAddModal()" style="margin-top: 20px;">
      <i class="fas fa-user-plus"></i>
      <span>Ajouter le Premier M√©decin</span>
    </button>
  </div>

  <!-- Doctors Table -->
  <div *ngIf="!loading && medecins.length > 0" class="table-container">
    <table class="doctors-table">
      <thead>
        <tr>
          <th style="width: 100px;">CIN</th>
          <th>M√©decin</th>
          <th>Sp√©cialit√©</th>
          <th>Contact</th>
          <th style="width: 200px;">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let m of medecins; let i = index" [style.animation-delay]="i * 0.05 + 's'">
          <td>
            <span style="font-weight: 600; color: var(--primary-color); background: rgba(74, 144, 226, 0.1); padding: 6px 12px; border-radius: 6px;">
              {{ m.cin }}
            </span>
          </td>
          <td>
            <div class="doctor-info-cell">
              <div class="doctor-avatar">
                {{ getDoctorInitials(m.nomComplet) }}
              </div>
              <div class="doctor-details">
                <span class="doctor-name">{{ m.nomComplet }}</span>
                <span class="doctor-title">M√©decin autoris√©</span>
              </div>
            </div>
          </td>
          <td>
            <span class="speciality-badge">
              {{ m.specialite }}
            </span>
          </td>
          <td>
            <div class="contact-info">
              <i class="fas fa-envelope"></i>
              <span>{{ m.email || 'Email non disponible' }}</span>
            </div>
          </td>
          <td>
            <div class="action-buttons">
              <button (click)="editMedecin(m)" class="action-btn btn-edit" title="Modifier les informations">
                <i class="fas fa-edit"></i>
                <span>Modifier</span>
              </button>
              <button (click)="deleteMedecin(m.id)" class="action-btn btn-delete" title="Supprimer le m√©decin">
                <i class="fas fa-trash-alt"></i>
                <span>Supprimer</span>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>